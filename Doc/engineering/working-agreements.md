---
title: 工程约定
category: engineering
status: current
version: v0.1
last_updated: 2026-01-17
---

# 工程约定

本文件用于在开始编码前统一工程约定，减少返工与文档漂移。

相关入口：

- 产品范围：[scope.md](../product/scope.md)
- 术语表：[glossary.md](../glossary.md)
- API 合同：[contract.md](../api/v0.1/contract.md)

## 1. 目录与文档约定

- 文档文件名使用小写+短横线（kebab-case）。
- 文档与目录调整时，同步更新 [Doc/README.md](../README.md) 与 [repository-structure.md](./repository-structure.md)。
- API 文档以 [contract.md](../api/v0.1/contract.md) 与 [openapi.yaml](../api/v0.1/openapi.yaml) 为准，避免多处重复。

## 2. 开发环境与流程约束

- 系统环境：Windows 10 64 bit，命令行默认 PowerShell。
- 禁止自动安装依赖；需要安装时必须先确认。
- 任何临时文件或测试文件，用完立即删除。

## 3. 决策记录

- 重要技术或需求变化，需要新增 ADR 记录（../architecture/decisions/）。
- 决策内容要求：原因、影响范围、替代方案。

## 4. 里程碑与交付标准

### M0 需求冻结

- 确认本期目标与不做清单，写入 ../product/scope.md 与相关文档。
- 统一名词与对象定义（事件、标签、分类、人物、地点、时间系统）。
- 列出必须完成的最小功能清单与验收点。

### M1 数据模型完成

- 明确 Event 的字段、必填项与边界规则（含 BC/AD 与模糊时间）。
- 定义 Tag/Category/Person/Place 的最小字段与关联方式。
- 输出字段说明到 ../api/v0.1/contract.md（避免多处冲突）。

### M2 接口可用

- 列出最小接口清单（事件增删改查、查询与筛选）。
- 为每个接口补齐请求/响应示例与错误场景说明。
- 对齐权限矩阵与错误码表，确保命名一致。

### M3 基础原型

- 设计一条主路径：进入页面 → 浏览时间线 → 进行筛选。
- 明确页面最小结构与状态（加载、空状态、错误）。
- 准备最小演示数据（10-20 条）用于页面展示。

### M4 可演示版本

- 补齐导入/导出最小流程（只需最小字段集即可）。
- 增加版本记录或变更说明的最小表现形式。
- 进行一次完整演示流程并记录问题清单。

交付标准（每个里程碑必须满足）：

- 相关文档同步更新，并在文档中标注版本或日期。
- 功能范围清晰，不引入未确认的需求。
- 能被非技术人员理解并复述当前进展。

## 9. 启动检查清单

- 已明确当前迭代范围与不做的内容。
- 已确认数据模型与时间规则。
- 已确认接口规范与错误码规则。
- 已更新 ../README.md 与相关文档。

## 10. 当前实现补充
- 已加入登录鉴权与后台管理。
- 已加入版本记录与导入导出。
